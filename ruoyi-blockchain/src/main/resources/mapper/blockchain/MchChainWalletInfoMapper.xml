<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.blockchain.mapper.MchChainWalletInfoMapper">
    
    <resultMap type="MchChainWalletInfo" id="MchChainWalletInfoResult">
        <result property="id"    column="id"    />
        <result property="mchNo"    column="mch_no"    />
        <result property="userId"    column="user_id"    />
        <result property="chainType"    column="chain_type"    />
        <result property="address"    column="address"    />
        <result property="createdTime"    column="created_time"    />
        <result property="dbUpdateTime"    column="db_update_time"    />
    </resultMap>

    <sql id="selectMchChainWalletInfoVo">
        select id, mch_no, user_id, chain_type, address, created_time, db_update_time from mch_chain_wallet_info
    </sql>

    <select id="selectMchChainWalletInfoList" parameterType="MchChainWalletInfo" resultMap="MchChainWalletInfoResult">
        <include refid="selectMchChainWalletInfoVo"/>
        <where>  
            <if test="mchNo != null  and mchNo != ''"> and mch_no like concat('%', #{mchNo}, '%')</if>
            <if test="userId != null  and userId != ''"> and user_id = #{userId}</if>
            <if test="chainType != null  and chainType != ''"> and chain_type = #{chainType}</if>
            <if test="address != null  and address != ''"> and address like concat('%', #{address}, '%')</if>
        </where>
    </select>
    
    <select id="selectMchChainWalletInfoById" parameterType="String" resultMap="MchChainWalletInfoResult">
        <include refid="selectMchChainWalletInfoVo"/>
        where id = #{id}
    </select>

    <insert id="insertMchChainWalletInfo" parameterType="MchChainWalletInfo">
        insert into mch_chain_wallet_info
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">id,</if>
            <if test="mchNo != null and mchNo != ''">mch_no,</if>
            <if test="userId != null and userId != ''">user_id,</if>
            <if test="chainType != null and chainType != ''">chain_type,</if>
            <if test="address != null and address != ''">address,</if>
            <if test="createdTime != null">created_time,</if>
            <if test="dbUpdateTime != null">db_update_time,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">#{id},</if>
            <if test="mchNo != null and mchNo != ''">#{mchNo},</if>
            <if test="userId != null and userId != ''">#{userId},</if>
            <if test="chainType != null and chainType != ''">#{chainType},</if>
            <if test="address != null and address != ''">#{address},</if>
            <if test="createdTime != null">#{createdTime},</if>
            <if test="dbUpdateTime != null">#{dbUpdateTime},</if>
         </trim>
    </insert>

    <update id="updateMchChainWalletInfo" parameterType="MchChainWalletInfo">
        update mch_chain_wallet_info
        <trim prefix="SET" suffixOverrides=",">
            <if test="mchNo != null and mchNo != ''">mch_no = #{mchNo},</if>
            <if test="userId != null and userId != ''">user_id = #{userId},</if>
            <if test="chainType != null and chainType != ''">chain_type = #{chainType},</if>
            <if test="address != null and address != ''">address = #{address},</if>
            <if test="createdTime != null">created_time = #{createdTime},</if>
            <if test="dbUpdateTime != null">db_update_time = #{dbUpdateTime},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteMchChainWalletInfoById" parameterType="String">
        delete from mch_chain_wallet_info where id = #{id}
    </delete>

    <delete id="deleteMchChainWalletInfoByIds" parameterType="String">
        delete from mch_chain_wallet_info where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>


    <select id="selectMchChainWalletInfoByAddress" resultMap="MchChainWalletInfoResult">
        <include refid="selectMchChainWalletInfoVo"/>
        where address = #{address} and chain_type = #{chainType}
    </select>
</mapper>